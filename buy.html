<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <title>Ù…ØªØ¬Ø± Ø§Ù„ØªÙŠØ´ÙŠØ±ØªØ§Øª</title>
    <link rel="stylesheet" href="css/buy.css" />
  </head>
  <body>
    <header>
       <img src="./photo/logo.jpeg" alt="Logo" width="120" />
      <a class="cart-icon" href="">home</a>
      <div  id="cart-icon" title="Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚" onclick="toggleCart()">
        ğŸ›’
        <span id="cart-count">0</span>
      </div>
    </header>

    <div class="products-container" id="products-container">
      <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù‡Ù†Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
    </div>

    <!-- Ù…ÙˆØ¯Ø§Ù„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ -->
    <div
      id="details"
      class="details-modal"
      onclick="if(event.target===this) closeDetails()"
    >
      <div id="details-content">
        <span class="close-btn" onclick="closeDetails()">Ã—</span>
        <div id="main-image-container">
          <img id="main-image" src="" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬" />
          <div id="extra-images-container" style="margin-top: 10px"></div>
        </div>
        <div class="details-info">
          <div><strong>Ø§Ù„Ø§Ø³Ù…:</strong> <span id="product-name"></span></div>
          <div><strong>Ø§Ù„Ø³Ø¹Ø±:</strong> <span id="price"></span></div>
          <div>
            <label for="sizes-select">Ø§Ù„Ù…Ù‚Ø§Ø³:</label>
            <select id="sizes-select"></select>
          </div>
          <div>
            <label for="colors-select">Ø§Ù„Ù„ÙˆÙ†:</label>
            <select id="colors-select"></select>
          </div>
          <button class="add-to-cart" onclick="addToCart()">
            Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©
          </button>
        </div>
      </div>
    </div>
    <img src="" alt="">
    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ -->
    <div
      id="cart"
      class="cart-modal"
      onclick="if(event.target===this) toggleCart()"
    >
      <div id="cart-content">
        <span class="close-btn" onclick="toggleCart()">Ã—</span>
        <h2>Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚</h2>
        <div id="cart-items"></div>
        <div id="cart-total"></div>
      </div>
    </div>
    
    <script>
      // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª - 20 Ù…Ù†ØªØ¬ Ù…Ø¹ Ø§Ù„Ø³Ø¹Ø±ØŒ Ø§Ù„Ù…Ù‚Ø§Ø³Ø§ØªØŒ ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù†
      const productsData = [
        {
          name: "ØªØµÙ…ÙŠÙ… 1",
          price: 10,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø­Ù…Ø±", "Ø£Ø®Ø¶Ø±", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./t-shert/a-she-1.png",
          extraImages: [
            "./t-shert/a-sher-1.png",
            "./t-shert/a-she-1.png",
            "./t-shert/a-shret-1.png",
          ],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 2",
          price: 20,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø­Ù…Ø±", "Ø£Ø®Ø¶Ø±", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./t-shert/b-shr-2.png",
          extraImages: [
            "/t-shert/b-shre-2.png",
            "./t-shert/b-shret-2.png",
            "./t-shert/b-shr-2.png",
          ],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 3",
          price: 30,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø­Ù…Ø±", "Ø£Ø®Ø¶Ø±", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./photo/tshirt3-front.jpg",
          extraImages: [
            "./photo/tshirt3-back.jpg",
            "./photo/tshirt3-model.jpg",
            "./photo/tshirt3-detail.jpg",
          ],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 4",
          price: 40,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø²Ø±Ù‚", "Ø£ØµÙØ±", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./photo/tshirt3-front.jpg",
          extraImages: [
            "./photo/tshirt3-back.jpg",
            "./photo/tshirt3-model.jpg",
            "./photo/tshirt3-detail.jpg",
          ],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 5",
          price: 50,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø¨ÙŠØ¶", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./photo/Hoodiet-3D.jpeg",
          extraImages: ["./photo/Hoodiet-3D.jpeg", "./photo/logo.jpeg"],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 6",
          price: 60,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø­Ù…Ø±", "Ø£Ø®Ø¶Ø±", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./photo/tshirt3-front.jpg",
          extraImages: [
            "./photo/tshirt3-back.jpg",
            "./photo/tshirt3-model.jpg",
          ],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 7",
          price: 70,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø²Ø±Ù‚", "Ø£Ø®Ø¶Ø±", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./photo/Hoodiet-3D.jpeg",
          extraImages: ["./photo/Hoodiet-3D.jpeg", "./photo/logo.jpeg"],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 8",
          price: 80,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø­Ù…Ø±", "Ø£ØµÙØ±", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./photo/tshirt3-front.jpg",
          extraImages: [
            "./photo/tshirt3-back.jpg",
            "./photo/tshirt3-model.jpg",
          ],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 9",
          price: 70,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø®Ø¶Ø±", "Ø£ØµÙØ±", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./photo/Hoodiet-3D.jpeg",
          extraImages: ["./photo/Hoodiet-3D.jpeg", "./photo/logo.jpeg"],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 10",
          price: 80,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø­Ù…Ø±", "Ø£Ø²Ø±Ù‚", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./photo/tshirt3-front.jpg",
          extraImages: [
            "./photo/tshirt3-back.jpg",
            "./photo/tshirt3-model.jpg",
          ],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 11",
          price: 90,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø­Ù…Ø±", "Ø£Ø®Ø¶Ø±", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./photo/Hoodiet-3D.jpeg",
          extraImages: ["./photo/Hoodiet-3D.jpeg"],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 12",
          price: 100,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£ØµÙØ±", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./photo/tshirt3-front.jpg",
          extraImages: ["./photo/tshirt3-model.jpg"],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 13",
          price: 200,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø­Ù…Ø±", "Ø£Ø®Ø¶Ø±"],
          mainImage: "./photo/Hoodiet-3D.jpeg",
          extraImages: ["./photo/logo.jpeg"],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 14",
          price: 300,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø²Ø±Ù‚", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./photo/tshirt3-front.jpg",
          extraImages: ["./photo/tshirt3-detail.jpg"],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 15",
          price: 400,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø­Ù…Ø±", "Ø£ØµÙØ±"],
          mainImage: "./photo/Hoodiet-3D.jpeg",
          extraImages: ["./photo/logo.jpeg"],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 16",
          price: 500,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø®Ø¶Ø±", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./photo/tshirt3-front.jpg",
          extraImages: ["./photo/tshirt3-back.jpg"],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 17",
          price: 600,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø­Ù…Ø±", "Ø£Ø®Ø¶Ø±"],
          mainImage: "./photo/Hoodiet-3D.jpeg",
          extraImages: ["./photo/logo.jpeg"],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 18",
          price: 700,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø²Ø±Ù‚", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./photo/tshirt3-front.jpg",
          extraImages: ["./photo/tshirt3-model.jpg"],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 19",
          price: 800,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø­Ù…Ø±", "Ø£ØµÙØ±"],
          mainImage: "./photo/Hoodiet-3D.jpeg",
          extraImages: ["./photo/logo.jpeg"],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 20",
          price: 900,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø®Ø¶Ø±", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./photo/tshirt3-front.jpg",
          extraImages: ["./photo/tshirt3-detail.jpg"],
        },
        {
          name: "ØªØµÙ…ÙŠÙ… 21",
          price: 1000,
          sizes: ["S", "M", "L", "XL"],
          colors: ["Ø£Ø®Ø¶Ø±", "Ø£Ø³ÙˆØ¯"],
          mainImage: "./photo/tshirt3-front.jpg",
          extraImages: ["./photo/tshirt3-detail.jpg"],
        },
      ];

      let cart = [];

      // ØªÙ‡ÙŠØ¦Ø© ÙˆØ¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„ØµÙØ­Ø©
      function loadProducts() {
        const container = document.getElementById("products-container");
        container.innerHTML = "";
        productsData.forEach((product, index) => {
          const div = document.createElement("div");
          div.classList.add("product");
          div.dataset.index = index; // Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø§Ø­Ù‚Ø§Ù‹
          div.innerHTML = `
        <img src="${product.mainImage}" alt="${product.name}" />
        <h3>${product.name}</h3>
        <div style="font-weight:bold; margin-top:5px;">${product.price} Ø¬Ù†ÙŠÙ‡</div>
      `;
          div.addEventListener("click", () => showDetails(index));
          container.appendChild(div);
        });
      }

      // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø³Ù„Ø© ÙÙŠ Ø§Ù„Ù‡ÙŠØ¯Ø±
      function updateCartCount() {
        const count = cart.reduce((acc, item) => acc + item.quantity, 0);
        const countSpan = document.getElementById("cart-count");
        if (count > 0) {
          countSpan.style.display = "inline-block";
          countSpan.textContent = count;
        } else {
          countSpan.style.display = "none";
        }
      }

      // ÙØªØ­ Ù…ÙˆØ¯Ø§Ù„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬
      function showDetails(index) {
        const product = productsData[index];
        document.getElementById("product-name").textContent = product.name;
        document.getElementById("price").textContent = product.price + " Ø¬Ù†ÙŠÙ‡";

        const mainImage = document.getElementById("main-image");
        mainImage.src = product.mainImage;
        mainImage.alt = product.name;

        const extraImagesContainer = document.getElementById(
          "extra-images-container"
        );
        extraImagesContainer.innerHTML = "";
        product.extraImages.forEach((src) => {
          const img = document.createElement("img");
          img.src = src;
          img.alt = product.name;
          img.onclick = () => {
            mainImage.src = src;
          };
          extraImagesContainer.appendChild(img);
        });

        // ØªØ¹Ø¨Ø¦Ø© Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª
        const sizesSelect = document.getElementById("sizes-select");
        sizesSelect.innerHTML = "";
        product.sizes.forEach((size) => {
          const option = document.createElement("option");
          option.value = size;
          option.textContent = size;
          sizesSelect.appendChild(option);
        });

        // ØªØ¹Ø¨Ø¦Ø© Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù†
        const colorsSelect = document.getElementById("colors-select");
        colorsSelect.innerHTML = "";
        product.colors.forEach((color) => {
          const option = document.createElement("option");
          option.value = color;
          option.textContent = color;
          colorsSelect.appendChild(option);
        });

        // Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø§Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©
        document.getElementById("details-content").dataset.currentIndex = index;

        document.getElementById("details").style.display = "flex";
      }

      // Ø¥ØºÙ„Ø§Ù‚ Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„ØªÙØ§ØµÙŠÙ„
      function closeDetails() {
        document.getElementById("details").style.display = "none";
      }

      // Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©
      function addToCart() {
        const detailsContent = document.getElementById("details-content");
        const index = parseInt(detailsContent.dataset.currentIndex);
        const product = productsData[index];

        const selectedSize = document.getElementById("sizes-select").value;
        const selectedColor = document.getElementById("colors-select").value;

        // ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ Ù†ÙØ³ Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†ÙØ³ Ø§Ù„Ù…Ù‚Ø§Ø³ ÙˆØ§Ù„Ù„ÙˆÙ† Ù…ÙˆØ¬ÙˆØ¯
        const existingIndex = cart.findIndex(
          (item) =>
            item.name === product.name &&
            item.size === selectedSize &&
            item.color === selectedColor
        );

        if (existingIndex >= 0) {
          // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ÙƒÙ…ÙŠØ©
          cart[existingIndex].quantity += 1;
        } else {
          // Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯ Ù…Ø¹ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ù† data
          cart.push({
            name: product.name,
            size: selectedSize,
            color: selectedColor,
            price: product.price,
            quantity: 1,
            img: product.mainImage,
          });
        }

        updateCartCount();
        closeDetails();
        alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©!");
      }

      // Ø¹Ø±Ø¶ Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ø³Ù„Ø©
      function toggleCart() {
        const cartModal = document.getElementById("cart");
        if (cartModal.style.display === "flex") {
          cartModal.style.display = "none";
        } else {
          renderCartItems();
          cartModal.style.display = "flex";
        }
      }

      // Ø±Ø³Ù… Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ø³Ù„Ø© ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ
      function renderCartItems() {
        const container = document.getElementById("cart-items");
        container.innerHTML = "";

        if (cart.length === 0) {
          container.innerHTML = "<p>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>";
          document.getElementById("cart-total").textContent = "";
          return;
        }

        cart.forEach((item, i) => {
          const div = document.createElement("div");
          div.classList.add("cart-item");
          div.innerHTML = `
        <img src="${item.img}" alt="${item.name}" />
        <div class="cart-item-info">
          <div><strong>${item.name}</strong></div>
          <div>Ø§Ù„Ù…Ù‚Ø§Ø³: ${item.size}</div>
          <div>Ø§Ù„Ù„ÙˆÙ†: ${item.color}</div>
          <div>Ø§Ù„Ø³Ø¹Ø± Ù„Ù„ÙˆØ­Ø¯Ø©: ${item.price} Ø¬Ù†ÙŠÙ‡</div>
          <div>Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.quantity}</div>
          <div>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${item.price * item.quantity} Ø¬Ù†ÙŠÙ‡</div>
        </div>
        <button class="remove-btn" onclick="removeCartItem(${i})">Ø­Ø°Ù</button>
      `;
          container.appendChild(div);
        });

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹
        updateCartTotal();
      }

      // ØªØ­Ø¯ÙŠØ« Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ù„Ø© Ø­Ø³Ø¨ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
      function updateCartTotal() {
        // Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ù‡Ùˆ Ø¬Ù…Ø¹ (Ø§Ù„Ø³Ø¹Ø± * Ø§Ù„ÙƒÙ…ÙŠØ©) Ù„ÙƒÙ„ Ø¹Ù†ØµØ± ÙÙŠ Ø§Ù„Ø³Ù„Ø©
        const total = cart.reduce(
          (sum, item) => sum + item.price * item.quantity,
          0
        );
        document.getElementById(
          "cart-total"
        ).textContent = `Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø¬Ù†ÙŠÙ‡`;
      }

      // Ø¥Ø²Ø§Ù„Ø© Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ø³Ù„Ø©
      function removeCartItem(index) {
        cart.splice(index, 1);
        updateCartCount();
        renderCartItems();
      }

      // Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø© ÙƒØ§Ù…Ù„Ø©
      function clearCart() {
        if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ø§Ù„Ø³Ù„Ø©ØŸ")) {
          cart = [];
          updateCartCount();
          renderCartItems();
          toggleCart();
        }
      }

      // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
      loadProducts();
    </script>
  </body>
</html>
